<%- include('../layouts/header.ejs') %>
    <div class="div border rounded mb-4">
        <form action="/jobs/create" method="post" class="my-4 mx-4">
            <div class="row mb-4">
                <h4>Create a new job</h4>
            </div>
            <div class="row mb-3">
                <label for="inputName" class="col-sm-1 col-form-label">Name</label>
                <div class="col-sm-3">
                    <input required name="name" type="text" class="form-control" id="inputName">
                </div>
                <label for="inputCategory" class="col-sm-1 col-form-label">Category</label>
                <div class="col-sm-3">
                    <input required name="category" type="text" class="form-control" id="inputCategory">
                </div>
            </div>
            <div class="row mb-4">
                <label for="inputMaxSalary" class="col-sm-1 col-form-label">Max Salary</label>
                <div class="col-sm-3">
                    <input required name="max_salary %>" type="text" class="form-control" id="inputMaxSalary">
                </div>
                <label for="inputMinSalary" class="col-sm-1 col-form-label">Min Salary</label>
                <div class="col-sm-3">
                    <input required name="min_salary" type="text" class="form-control" id="inputMinSalary">
                </div>
            </div>
            <button type="submit" class="btn btn-success me-1">Create</button>
        </form>
    </div>
    <h4>Job Lists</h4>
    <% if(jobs){ %>
        <table class="table table-striped">
            <thead>
                <tr>
                    <th scope="col">ID</th>
                    <th scope="col">Name</th>
                    <th scope="col">Category</th>
                    <th scope="col">Max Salary</th>
                    <th scope="col">Min Salary</th>
                    <th scope="col">Option</th>
                </tr>
            </thead>
            <tbody>
                <% if(jobs.length> 1){
                    jobs.forEach(job => {
                    %>
                    <tr>
                        <th>
                            <%= job.id %>
                        </th>
                        <td>
                            <%= job.name %>
                        </td>
                        <td>
                            <%= job.category %>
                        </td>
                        <td>
                            <%= job.max_salary %>
                        </td>
                        <td>
                            <%= job.min_salary %>
                        </td>
                        <td>
                            <a href="/jobs/update/<%= job.id %>" type="button"
                                class="btn btn-primary me-1">Update</button>
                                <a href="/jobs/delete/<%= job.id %>" type="button"
                                    class="btn btn-danger">Delete</a>
                        </td>
                    </tr>
                    <% }); } else{ %>
                        <tr>
                            <th>
                                <%= job.id %>
                            </th>
                            <td>
                                <%= job.name %>
                            </td>
                            <td>
                                <%= job.category %>
                            </td>
                            <td>
                                <%= job.max_salary %>
                            </td>
                            <td>
                                <%= job.min_salary %>
                            </td>
                            <td>
                                <a href="/jobsupdate/<%= jobs.id %>" type="button"
                                    class="btn btn-primary me-1">Update</button>
                                    <a href="/jobsdelete/<%= jobs.id %>" type="button"
                                        class="btn btn-danger">Delete</a>
                            </td>
                        </tr>
                        <% } %>
            </tbody>
        </table>
        <% } %>

<%- include('../layouts/footer.ejs') %>